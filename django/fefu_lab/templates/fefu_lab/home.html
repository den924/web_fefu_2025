{% extends "fefu_lab/base.html" %}

{% block title %}Главная страница{% endblock %}

{% block content %}
<div class="container">
    <h1>Добро пожаловать в университет!</h1>
    
    <!-- Счетчики -->
    <div class="stats-grid">
        <div class="stat-card">
            <h3>{{ total_students }}</h3>
            <p>Студентов</p>
        </div>
        <div class="stat-card">
            <h3>{{ total_courses }}</h3>
            <p>Курсов</p>
        </div>
        <div class="stat-card">
            <h3>{{ total_instructors }}</h3>
            <p>Преподавателей</p>
        </div>
    </div>

    <!-- Недавние курсы -->
    {% if recent_courses %}
    <h2>Недавние курсы</h2>
    <div class="courses-grid">
        {% for course in recent_courses %}
        <div class="course-card">
            <h3>{{ course.title }}</h3>
            <p>{{ course.description|truncatewords:20 }}</p>
            <p><strong>Преподаватель:</strong> 
                {% if course.instructor %}
                    {{ course.instructor.first_name }} {{ course.instructor.last_name }}
                {% else %}
                    Не назначен
                {% endif %}
            </p>
            <p><strong>Продолжительность:</strong> {{ course.duration }} часов</p>
            <a href="{% url 'course_detail' course.slug %}" class="btn">Подробнее</a>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p>Пока нет активных курсов.</p>
    {% endif %}
</div>
{% endblock %}
